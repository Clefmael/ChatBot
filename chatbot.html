<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Chat World!</title>
    <link rel="stylesheet" href="s.css">
    <style>
        body {
            background-color: black;
            color: red; /* makes text readable on black background */
        }
    </style>
</head>
<body>
    <h1>Welcome to Chat World!</h1>

    <!-- Draggable Navigation / Toggle -->
    <div class="navigation">
        <div class="toggle"></div>
        <div class="screen chat-screen">
            <div class="messages" id="messages"></div>
            <div class="typebox">
                <input type="text" id="message-input" placeholder="Type a message...">
                <button id="send-message">Send</button>

            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
    <script>
        let isDragging = false;

        // Toggle navigation/chat
        const navigation = document.querySelector('.navigation');
        const toggle = document.querySelector('.toggle');

        toggle.onclick = function() {
            if (isDragging) return;
            this.classList.toggle('active');
            navigation.classList.toggle('active');
        };

        // Make navigation draggable
        $(function() {
            $(".navigation").draggable({
                start: function() { isDragging = true; },
                stop: function() { setTimeout(() => isDragging = false, 0); }
            });
        });

        // Chat functionality
        const messagesDiv = document.getElementById('messages');
        const input = document.getElementById('message-input');
        const sendBtn = document.getElementById('send-message');

        function addMessage(sender, text) {
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('message', sender === 'You' ? 'my-message' : 'bot-message');
            msgDiv.innerHTML = `<div class="name">${sender}</div><div class="text">${text}</div>`;
            messagesDiv.appendChild(msgDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function handleBotResponse(text) {
            const msg = text.toLowerCase();
            let reply;
            if (msg.includes("hi") || msg.includes("hello")) reply = "Hi there! How are you?";
            else if (msg.includes("good") || msg.includes("fine")) reply = "Glad to hear that!";
            else if (msg.includes("how are you")) reply = "I'm doing great, thanks!";
            else if (msg.includes("bye")) reply = "Goodbye! Have a nice day!";
            else reply = "I'm not sure what you mean ðŸ˜…";
            addMessage("Bot", reply);
        }

        sendBtn.addEventListener('click', () => {
            const text = input.value.trim();
            if (!text) return;
            addMessage('You', text);
            input.value = '';
            setTimeout(() => handleBotResponse(text), 600);
        });

        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendBtn.click();
        });
    </script>
</body>
</html>
